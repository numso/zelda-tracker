!function(e){function n(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return e[t].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=e,n.c=r,n.p="",n(0)}([function(e,n,r){"use strict";r(1);var t=angular.module("zelda",["ui.bootstrap","firebase"]),o='\n<div class="modal-header">\n  <h3>{{game}} for {{player}}</h3>\n</div>\n\n<div class="modal-body">\n  <div ng-repeat="level in levels">\n    <label><input type="checkbox" ng-model="progress[level]" ng-change="changed(level)"> {{level}}</label>\n  </div>\n\n  <div style="position:relative">\n    <progressbar value="levels | progress:progress | number:0"></progressbar>\n    <div class="prog-num" style="top:2px">{{levels | progress:progress | number:0}}%</div>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn" ng-click="dismiss()">Close</button>\n</div>\n';t.controller("mainCtrl",["$scope","$firebase","$modal",function(e,n,r){var t=new Firebase("https://zelda.firebaseio.com/games");e.games=n(t);var i=new Firebase("https://zelda.firebaseio.com/people");e.people=n(i);var s=new Firebase("https://zelda.firebaseio.com/data");e.progress=n(s),e.clickProgress=function(e,n,t){r.open({template:o,controller:"modalCtrl",resolve:{data:function(){return{person:e,game:n,levels:t}}}})}}]),t.controller("modalCtrl",["$scope","$firebase","$modalInstance","data",function(e,n,r,t){e.game=t.game,e.player=t.person,e.levels=t.levels;var o=new Firebase("https://zelda.firebaseio.com/data/"+t.person+"/"+t.game);e.progress=n(o),e.changed=function(n){e.progress.$save(n)},e.dismiss=function(){r.dismiss()}}]),t.filter("progress",function(){return function(e,n){var r=_.reduce(n,function(e,n,r){return 0===r.indexOf("$")?e:n?e+1:e},0),t=_.size(e);return r/t*100}}),t.filter("progressDungeons",function(){return function(e,n){var r=_.reduce(n,function(e,n,r){if(0===r.indexOf("$"))return e;var t=_.reduce(n,function(e,n){return n?e+1:e},0);return e+t},0),t=_.reduce(e,function(e,n,r){return 0===r.indexOf("$")?e:e+_.size(n)},0);return r/t*100}}),t.filter("progressGames",function(){return function(e,n){var r=_.reduce(n,function(n,r,t){if(0===t.indexOf("$"))return n;var o=_.reduce(r,function(e,n){return n?e+1:e},0);return o!==_.size(e[t])?n:n+1},0),t=_.reduce(e,function(e,n,r){return 0===r.indexOf("$")?e:e+1},0);return r/t*100}})},function(e,n,r){var t=r(2);"string"==typeof t&&(t=[[e.id,t,""]]);r(4)(t,{});t.locals&&(e.exports=t.locals)},function(e,n,r){n=e.exports=r(3)(),n.push([e.id,"td{position:relative}.prog-num{position:absolute;top:10px;left:45%;font-size:12px}",""])},function(e,n){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],n=0;n<this.length;n++){var r=this[n];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(n,r){"string"==typeof n&&(n=[[null,n,""]]);for(var t={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(t[i]=!0)}for(o=0;o<n.length;o++){var s=n[o];"number"==typeof s[0]&&t[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},function(e,n,r){function t(e,n){for(var r=0;r<e.length;r++){var t=e[r],o=d[t.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](t.parts[i]);for(;i<t.parts.length;i++)o.parts.push(u(t.parts[i],n))}else{for(var s=[],i=0;i<t.parts.length;i++)s.push(u(t.parts[i],n));d[t.id]={id:t.id,refs:1,parts:s}}}}function o(e){for(var n=[],r={},t=0;t<e.length;t++){var o=e[t],i=o[0],s=o[1],a=o[2],l=o[3],u={css:s,media:a,sourceMap:l};r[i]?r[i].parts.push(u):n.push(r[i]={id:i,parts:[u]})}return n}function i(e,n){var r=g(),t=y[y.length-1];if("top"===e.insertAt)t?t.nextSibling?r.insertBefore(n,t.nextSibling):r.appendChild(n):r.insertBefore(n,r.firstChild),y.push(n);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(n)}}function s(e){e.parentNode.removeChild(e);var n=y.indexOf(e);n>=0&&y.splice(n,1)}function a(e){var n=document.createElement("style");return n.type="text/css",i(e,n),n}function l(e){var n=document.createElement("link");return n.rel="stylesheet",i(e,n),n}function u(e,n){var r,t,o;if(n.singleton){var i=b++;r=m||(m=a(n)),t=f.bind(null,r,i,!1),o=f.bind(null,r,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=l(n),t=p.bind(null,r),o=function(){s(r),r.href&&URL.revokeObjectURL(r.href)}):(r=a(n),t=c.bind(null,r),o=function(){s(r)});return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else o()}}function f(e,n,r,t){var o=r?"":t.css;if(e.styleSheet)e.styleSheet.cssText=x(n,o);else{var i=document.createTextNode(o),s=e.childNodes;s[n]&&e.removeChild(s[n]),s.length?e.insertBefore(i,s[n]):e.appendChild(i)}}function c(e,n){var r=n.css,t=n.media;if(t&&e.setAttribute("media",t),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function p(e,n){var r=n.css,t=n.sourceMap;t&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */");var o=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},v=function(e){var n;return function(){return"undefined"==typeof n&&(n=e.apply(this,arguments)),n}},h=v(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=v(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,b=0,y=[];e.exports=function(e,n){n=n||{},"undefined"==typeof n.singleton&&(n.singleton=h()),"undefined"==typeof n.insertAt&&(n.insertAt="bottom");var r=o(e);return t(r,n),function(e){for(var i=[],s=0;s<r.length;s++){var a=r[s],l=d[a.id];l.refs--,i.push(l)}if(e){var u=o(e);t(u,n)}for(var s=0;s<i.length;s++){var l=i[s];if(0===l.refs){for(var f=0;f<l.parts.length;f++)l.parts[f]();delete d[l.id]}}}};var x=function(){var e=[];return function(n,r){return e[n]=r,e.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=bundle.js.map